<!DOCTYPE html>
<html>
    <head>
        <title>Objects</title>
    </head>
    <body>
        <script>
            // Create an object
            // Note that it is a common practice to create object with const, we can update/create/delete the property of the object value, but we cannot re-assign a value!!!
            const product = {
                // property: value
                name: 'socks',
                price: 1090
            };

            console.log(product);
            // Read the property value, dot notation
            console.log(product.name);

            // Update the property value
            product.name = 'cotton socks';
            console.log(product);

            // Create a new property-value pair
            product.newProperty = true;
            console.log(product);

            // Delete a property-value pair
            delete product.newProperty;
            console.log(product);

            const product2 = {
                name: 'shirt',
                // delivery-time has syntax error because of '-', we should use 'delivery-time'!
                'delivery-time': '1 day',
                // Object can be property value! Note that object inside object is called Nested Object!
                rating: {
                    stars: 4.5,
                    count: 87
                },
                // Function can also be property value! Note that function inside object is called Method!
                fun: function function1(name) {
                    console.log(`hello ${name}`);
                }
            };
            console.log(product2);
            console.log(product2.name);
            // Read the property value, bracket notation
            console.log(product2['name']);
            // Bracket notation is useful when dot notation doesn't work! In the following example, product2.delivery-time has syntax error because of '-', thus we have to use bracket notation!
            console.log(product2['delivery-time']);

            // Chained dot notation
            console.log(product2.rating.count);

            // Call the funtion (method)!
            product2.fun('Liam');
            // Note that console and Math are objects, log and random are functions (methods)! 
            console.log(typeof console);
            console.log(typeof console.log);
            console.log(typeof Math);
            console.log(typeof Math.random);

            // JavaScript built-in objects: JSON and localStorage

            // JSON object
            // Convert JavaScript Object to JSON String
            const jsonString = JSON.stringify(product2);
            // Its data type is string, but represents the JSON format of the Object: (1) properties and string values use double quotes (2) no function as property value
            console.log(jsonString);
            console.log(typeof jsonString);

            // Convert JSON String to JavaScript Object
            const obj = JSON.parse(jsonString);
            console.log(obj);
            console.log(typeof obj);

            // Primitives except Null and Undefined also have properties and methods! This is because JavaScript has a special feature called 'Auto-Boxing' that automatically wraps the primitives into wrapper objects which provide useful properties and methods! Thus primitives behave like they have properties and methods!
            console.log('hello'.length);
            console.log('hello'.toUpperCase());

            // Objects are references!

            // object1 doesn't get the object value, instead it gets a reference that points to the actual object value in the computer's memory!
            // 'const' only makes the reference constant, thus we cannot update the reference (e.g. re-assign a value), but we can update the value it points to (e.g. update property)! 
            const object1 = {
                message: 'hello'
            };

            // Copy the reference, both variables get the same reference that points to the same value!
            const object2 = object1;
            // When we update object1, object2 also changes!
            object1.message = 'good';
            console.log(object1);
            console.log(object2);

            // Even though object3 has the same value as object1, they have different references that point to different locations!
            const object3 = {
                message: 'good'
            };
            // False because '===' compares the references, object1 and object3 have different references
            console.log(object3 === object1);
            // True because object1 and object2 have the same reference
            console.log(object2 === object1);

            // Shortcut

            // Destructuring
            const object4 = {
                message: 'Good job!',
                price: 799
            };
            // const message = object4.message;
            // const price = object4.price;
            const { message, price } = object4;
            console.log(message);
            console.log(price);

            // Shorthand Property
            const object5 = {
                // message: message,
                // price: price
                message,
                price
            };
            console.log(object5);

            // Shorthand Method
            const object6 = {
                // method: function functionName(name) {
                //     console.log(`hi ${name}`);
                // }
                method(name) {
                    console.log(`hi ${name}`);
                }
            };
            object6.method('Liam');
        </script>
    </body>
</html>